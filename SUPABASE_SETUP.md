# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ

## –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Supabase

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://supabase.com/](https://supabase.com/)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

1. –í –ø–∞–Ω–µ–ª–∏ Supabase –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase-schema.sql` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å SQL –∫–æ–¥ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –≤ SQL Editor
4. –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã `tracks` –∏ `lessons` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 3. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (tracks)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ–±—É—á–µ–Ω–∏—è:

```sql
INSERT INTO tracks (id, slug, name, description, icon, color) VALUES
('1', 'grammar', 'Grammar', '–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è', 'üìö', 'hsl(217 91% 60%)'),
('2', 'speaking', 'Speaking', '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∏–∞–ª–æ–≥–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è', 'üí¨', 'hsl(142 71% 45%)'),
('3', 'vocabulary', 'Vocabulary', '–†–∞—Å—à–∏—Ä—è–π—Ç–µ —Å–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å –ø–æ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –±–ª–æ–∫–∞–º', 'üìñ', 'hsl(25 95% 53%)'),
('4', 'listening', 'Listening', '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–µ—á–∏ –Ω–∞ —Å–ª—É—Ö', 'üéß', 'hsl(271 81% 56%)')
ON CONFLICT (id) DO NOTHING;
```

### 4. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ API

1. –í –ø–∞–Ω–µ–ª–∏ Supabase –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Project URL** (—ç—Ç–æ –±—É–¥–µ—Ç `VITE_SUPABASE_URL`)
   - **anon/public key** (—ç—Ç–æ –±—É–¥–µ—Ç `VITE_SUPABASE_ANON_KEY`)

### 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç)
2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
VITE_SUPABASE_URL=–≤–∞—à_project_url
VITE_SUPABASE_ANON_KEY=–≤–∞—à_anon_key
```

**–í–∞–∂–Ω–æ:** –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git! –û–Ω —É–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore`

### 6. –î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ Vercel –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
2. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`
3. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∞—à–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Supabase

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `tracks`
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `slug` - URL-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `icon` - —ç–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–∏
- `color` - —Ü–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ HSL

### –¢–∞–±–ª–∏—Ü–∞ `lessons`
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `track_id` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (foreign key)
- `level` - —É—Ä–æ–≤–µ–Ω—å (A1, A2, B1, B2, C1, C2)
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞
- `content` - –∫–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–∞ (Markdown)
- `video_url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ (YouTube/Google Drive)
- `video_type` - —Ç–∏–ø –≤–∏–¥–µ–æ ('youtube' –∏–ª–∏ 'gdrive')
- `order` - –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–∞–∫, —á—Ç–æ:
- **–ß—Ç–µ–Ω–∏–µ** –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º (–¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Ä–æ–∫–∞–º)
- **–ó–∞–ø–∏—Å—å/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ** –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ Supabase Auth
2. –°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å "admin" –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ RLS, —á—Ç–æ–±—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ

–ü—Ä–∏–º–µ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤:
```sql
CREATE POLICY "Only admins can insert lessons" ON lessons
  FOR INSERT WITH CHECK (
    EXISTS (
      SELECT 1 FROM auth.users
      WHERE auth.users.id = auth.uid()
      AND auth.users.raw_user_meta_data->>'role' = 'admin'
    )
  );
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `npm run dev`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `/admin`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —É—Ä–æ–∫
4. –£—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Supabase
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ RLS –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

